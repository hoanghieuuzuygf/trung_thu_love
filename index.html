<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Trung Thu Gá»­i Em</title>
  <link href="https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&display=swap" rel="stylesheet">
  <style>
    * {margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent;}
    body {
      font-family: 'Ma Shan Zheng', cursive;
      background: linear-gradient(to bottom, #000000, #0a0a2a, #000000);
      color: #fff;
      overflow: hidden;
      height: 100vh;
      width: 100vw;
      position: fixed;
      touch-action: manipulation;
    }
    .hidden {display:none;}
    .firefly {
      position: absolute;
      width: 3px;
      height: 3px;
      background: #e6ff00;
      border-radius: 50%;
      filter: blur(1px);
      box-shadow: 0 0 8px #e6ff00, 0 0 15px #e6ff00;
      z-index: 2;
    }
    .lantern {
      position: absolute;
      width: 25px;
      height: 35px;
      background: radial-gradient(ellipse at center, #ff6600 0%, #cc3300 70%);
      border-radius: 50% 50% 40% 40%;
      animation: float 8s linear infinite;
      opacity: 0.8;
      z-index: 1;
    }
    @keyframes float {
      0% {transform: translateY(100vh) scale(1);}
      100% {transform: translateY(-20vh) scale(1.1);}
    }
    .message-line {
      position: absolute;
      font-size: clamp(1rem,4vw,1.8rem);
      color: transparent;
      text-align: center;
      width: 90%;
      left: 5%;
      z-index: 3;
      text-shadow: none;
      transition: all 2s ease-in-out;
      opacity: 0;
      line-height: 1.4;
    }
    .message-line.revealed {
      color: #ffd700;
      text-shadow: 0 0 8px rgba(255,215,0,0.8), 0 0 15px rgba(255,100,100,0.6);
      opacity: 1;
    }
    .music-control {
      position: fixed;
      bottom: 15px;
      right: 15px;
      background: rgba(255,215,0,0.3);
      color: #ffd700;
      border: 2px solid rgba(255,215,0,0.6);
      padding: 10px 16px;
      border-radius: 20px;
      cursor: pointer;
      z-index: 100;
      font-family: 'Ma Shan Zheng', cursive;
      font-size: 0.9rem;
      backdrop-filter: blur(10px);
      transition: all 0.3s ease;
      display:none;
    }
    .music-control:hover {background: rgba(255,215,0,0.4);}
    .start-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #000;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 300;
      flex-direction: column;
      text-align: center;
    }
    .start-text {
      color: #ffd700;
      font-size: 1.6rem;
      animation: pulse 2s infinite;
      padding: 0 15px;
    }
    @keyframes pulse {
      0%,100%{opacity:0.7;transform:scale(1);}
      50%{opacity:1;transform:scale(1.05);}
    }
  </style>
</head>
<body>
  <!-- MÃ n hÃ¬nh chá» -->
  <div class="start-screen" id="startScreen">
    <div class="start-text">ğŸ’› Báº¥m Ä‘á»ƒ phÃ¡t nháº¡c vÃ  báº¯t Ä‘áº§u ğŸ’›</div>
  </div>

  <div class="message-line" id="line1" style="top: 10%;">Táº¿t Trung Thu nÄƒm nay anh vá»›i vá»£ pháº£i táº¡m xa nhau má»™t chÃºt...</div>
  <div class="message-line" id="line2" style="top: 22%;">NhÆ°ng lÃ²ng anh thÃ¬ váº«n hÆ°á»›ng vá» vá»£ tá»«ng phÃºt giÃ¢y.</div>
  <div class="message-line" id="line3" style="top: 34%;">Vá»£ cÃ³ nhá»› anh khÃ´ng? CÃ³ cÃ²n yÃªu anh nhiá»u nhÆ° trÆ°á»›c?</div>
  <div class="message-line" id="line4" style="top: 46%;">Anh nhá»› ná»¥ cÆ°á»i, Ã¡nh máº¯t, vÃ  táº¥t cáº£ cá»§a vá»£...</div>
  <div class="message-line" id="line5" style="top: 58%;">Rá»“i mÃ¬nh sáº½ sá»›m á»Ÿ bÃªn nhau thÃ´i, yÃªu vá»£ nhiá»u láº¯m ğŸ’›</div>
  <div class="message-line" id="line6" style="top: 70%;">ChÃºc vá»£ Trung Thu tháº­t vui vÃ  luÃ´n nhá»› anh nha ğŸŒ™</div>
  <div class="message-line" id="line7" style="top: 82%;">YÃªu em nháº¥t trÃªn Ä‘á»i nÃ y ğŸ’–</div>

  <button class="music-control" id="musicControl"><span>ğŸµ</span> Táº¯t nháº¡c</button>

  <audio id="bgMusic" preload="auto" loop>
    <source src="tik.mp3" type="audio/mpeg">
  </audio>

  <script>
    const lines = ['line1','line2','line3','line4','line5','line6','line7'];
    const startScreen=document.getElementById('startScreen');
    const bgMusic=document.getElementById('bgMusic');
    const musicControl=document.getElementById('musicControl');
    let musicPlaying=false;

    // Táº¡o Ä‘om Ä‘Ã³m
    function createFireflies(){
      const n=window.innerWidth<768?25:40;
      for(let i=0;i<n;i++){
        const f=document.createElement('div');
        f.className='firefly';
        f.style.left=`${Math.random()*100}%`;
        f.style.top=`${Math.random()*100}%`;
        document.body.appendChild(f);
      }
    }

    // Táº¡o Ä‘Ã¨n lá»“ng
    function createLanterns(){
      const n=window.innerWidth<768?8:15;
      for(let i=0;i<n;i++){
        const l=document.createElement('div');
        l.className='lantern';
        l.style.left=`${Math.random()*100}%`;
        l.style.animationDelay=`${Math.random()*8}s`;
        l.style.animationDuration=`${6+Math.random()*6}s`;
        document.body.appendChild(l);
      }
    }

    // Hiá»‡n dÃ²ng chá»¯ dáº§n dáº§n
    function showMessages(){
      lines.forEach((id,i)=>{
        setTimeout(()=>{
          document.getElementById(id).classList.add('revealed');
        }, i*3000);
      });
    }

    // Khi báº¥m báº¯t Ä‘áº§u
    startScreen.addEventListener('click',()=>{
      bgMusic.volume=0.7;
      bgMusic.play().then(()=>{
        startScreen.classList.add('hidden'); // áº¨n dÃ²ng "Báº¥m Ä‘á»ƒ phÃ¡t nháº¡c"
        createFireflies();
        createLanterns();
        showMessages();
        musicControl.style.display='block';
        musicPlaying=true;
      }).catch(err=>{
        alert("âš ï¸ TrÃ¬nh duyá»‡t cháº·n phÃ¡t nháº¡c, hÃ£y báº¥m láº¡i Ä‘á»ƒ báº¯t Ä‘áº§u nhÃ©!");
      });
    });

    // NÃºt báº­t/táº¯t nháº¡c
    musicControl.addEventListener('click',()=>{
      if(musicPlaying){
        bgMusic.pause();
        musicControl.innerHTML='<span>ğŸ”‡</span> Báº­t nháº¡c';
      } else {
        bgMusic.play();
        musicControl.innerHTML='<span>ğŸµ</span> Táº¯t nháº¡c';
      }
      musicPlaying=!musicPlaying;
    });
  </script>
</body>
</html>
